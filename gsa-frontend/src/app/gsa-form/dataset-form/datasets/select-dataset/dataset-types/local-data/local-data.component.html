<div (click)="onFileSelected($event)" class="dataset-card-content">
  <input
    #fileUpload
    (change)="onFileSelected($event)"
    class="file-input"
    type="file"
  >
  <div (click)="isRiboSeq() || fileUpload.click()">
    <div>
      <p class="bold no-wrap">{{source.name}}</p>
      <p>{{source.description}}</p>
    </div>
  </div>
</div>


<!-- Popup for Ribo seq data -->
<div *ngIf="showPopup" class="custom-popup">
  <div class="popup-content">
    <h2>Upload RNA and Ribo seq file</h2>
    <label>RNA-Seq File</label>
    <div class="dataset-card-content">
        <input type="file" id="rna-file-upload" (change)="uploadRNAFile($event)" class="popup-file-input" >
        <label for="rna-file-upload">Browse</label>
        <span class="file-name" id="rna-file-name"></span>
    </div>
    <label>Associated Ribo-Seq File</label>
    <div class="dataset-card-content">
      <input type="file" id="ribo-file-upload" (change)="uploadRiboFile($event)" class="popup-file-input" >
      <label for="ribo-file-upload">Browse</label>
      <span class="file-name" id="ribo-file-name"></span>
    </div>
    <div>
      <body>
      <label>Note:</label> The files must have matching column names to perform Ribo-Seq pathway analysis.
      </body>
    </div>
    <div *ngIf="!fileMatching" class="error-message">
      <label class="error-label">ERROR</label> Files do not have matching column names
    </div>

    <div *ngIf="!fileValid" class="error-message">
      <label class="error-label">ERROR</label> File must only contain integer values
    </div>

    <div class="button-container">
      <button [disabled]="!filesLoaded || !fileMatching || !fileValid" (click)="uploadRiboData()" mat-flat-button [color]="'primary'">Submit</button>
      <button (click)="closePopUp()" mat-stroked-button>Close</button>
    </div>
  </div>
</div>



