<div [formGroup]="form">
  <h1>Step 2: Add and annotate your datasets</h1>
  <div class="container">
    <mat-card>
      <mat-card-title>Select a file from a local folder</mat-card-title>
      <div *ngFor="let data of localData$ | async" class="show-dataset">
        <gsa-local-data [data]="data"></gsa-local-data>
      </div>
    </mat-card>

    <mat-card>
      <mat-card-title>Select one example dataset</mat-card-title>
      <div *ngFor="let data of exampleData$ | async" class="show-dataset">
        <gsa-example-data [data]="data"></gsa-example-data>
      </div>
    </mat-card>

    <mat-card>
      <mat-card-title>Import a dataset</mat-card-title>
      <div *ngFor="let data of importData$ | async" class="show-dataset">
        <gsa-import-data [data]="data"></gsa-import-data>
      </div>
    </mat-card>
  </div>
  <div class="loading-progress" >
    <div *ngIf="loadDataService.loadingProgress === 'loading'">
      <mat-spinner  diameter="50"></mat-spinner>
      <span>Dataset is loading</span>
    </div>
    <div *ngIf="loadDataService.loadingProgress === 'failed'">
      <span class="material-icons" style="color: rgb(255, 0, 0); font-size: 50px;">error</span>
      <span>Dataset not found!</span>
    </div>
    <div *ngIf="loadDataService.loadingProgress === 'completed'">
      <span class="material-icons" style="color: rgb(0, 128, 55); font-size: 50px;"> check_circle </span>
      <span>Dataset '{{loadDataService.dataSummary.title}}' loaded!</span>
    </div>
  </div>
  <button mat-raised-button color="accent" matStepperPrevious>Back</button>
  <button mat-raised-button color="accent" (click)="reloadData()" matStepperNext [disabled]="loadDataService.dataSummary === undefined">Continue</button>
</div>
